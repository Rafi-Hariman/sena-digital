<div class="mg-container">
  <!-- Header Section with Progress -->
  <!-- <div class="mg-header">
    <h1 class="mg-title">Galeri</h1>
    <p class="mg-subtitle">Hai kak isi dulu datanya</p>

    <div class="mg-progress-container">
      <div class="mg-progress-bar">
        <div class="mg-progress-fill" style="width: 75%;">
          <span class="mg-progress-text">75%</span>
        </div>
      </div>
    </div>
  </div> -->

  <!-- Form Section -->
  <form [formGroup]="uploadForm" class="mg-form">
    <div class="mg-form-body">
      <label class="mg-upload-label">Upload Foto Galeri:</label>

      <!-- File Upload Area -->
      <div class="mg-file-upload"
           (drop)="onFileSelected($event, 'photo')"
           (dragover)="$event.preventDefault()"
           (dragenter)="$event.preventDefault()">

        <ng-container *ngIf="imagePreviews['photo']; else defaultUpload">
          <div class="mg-preview-container">
            <img [src]="imagePreviews['photo']" alt="Preview Gambar" class="mg-preview-image">
            <button type="button" class="mg-remove-btn" (click)="removePhoto('photo')">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Hapus Foto
            </button>
          </div>
        </ng-container>

        <ng-template #defaultUpload>
          <div class="mg-upload-content">
            <!-- Cloud Upload Icon -->
            <div class="mg-upload-icon">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
                <path d="M12 15.5L8 11.5H10.5V7H13.5V11.5H16L12 15.5Z" fill="currentColor"/>
                <path d="M20 16V7C20 5.89543 19.1046 5 18 5H6C4.89543 5 4 5.89543 4 7V16C4 17.1046 4.89543 18 6 18H18C19.1046 18 20 17.1046 20 16Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                <path d="M8 21H16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            </div>

            <div class="mg-upload-text">
              <p class="mg-drag-text">Drag and drop files here</p>
              <p class="mg-or-text">or</p>
            </div>

            <button type="button" class="mg-browse-btn" (click)="browseFiles()">
              Browse Files
            </button>
          </div>
        </ng-template>

        <input type="file"
               #fileInput
               hidden
               (change)="onFileSelected($event, 'photo')"
               accept="image/*">
      </div>

      <!-- Checkbox -->
      <!-- <div class="mg-checkbox-group">
        <input type="checkbox"
               id="status"
               formControlName="status"
               class="mg-checkbox">
        <label for="status" class="mg-checkbox-label">Aktifkan Fitur ini</label>
      </div> -->
    </div>

    <!-- Button Group -->
    <div class="mg-button-group">
      <button type="button" class="mg-btn mg-btn-secondary" (click)="closeModal()">
        Kembali
      </button>
      <button type="button" class="mg-btn mg-btn-primary" (click)="onSubmitModal()">
        Lanjut
      </button>
    </div>
  </form>
</div>
