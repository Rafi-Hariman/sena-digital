<div class="qr-modal">
  <!-- Close Button -->
  <button type="button" class="close-button" (click)="closeModal()" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>

  <!-- Modal Content -->
  <div class="qr-content">
    <!-- Couple Names -->
    <h2 class="couple-names">{{ title }}</h2>

    <!-- Loading State -->
    <div *ngIf="isGenerating" class="loading-state">
      <div class="spinner"></div>
      <p>Generating QR code...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="errorMessage && !isGenerating" class="error-state">
      <p class="error-message">{{ errorMessage }}</p>
      <button class="retry-button" (click)="retryGeneration()">
        Try Again
      </button>
    </div>

    <!-- QR Code Display -->
    <div *ngIf="!isGenerating && !errorMessage" class="qr-display">
      <p class="scan-instruction">{{ description }}</p>

      <div class="qr-code-wrapper">
        <canvas #qrCanvas class="qr-canvas"></canvas>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button class="action-btn share-btn" (click)="shareUrl()">
          <i class="fas fa-share-alt"></i>
          <span>Share</span>
        </button>

        <button class="action-btn copy-btn" (click)="copyUrl()">
          <i class="fas fa-link"></i>
          <span>Copy Link</span>
        </button>
      </div>
    </div>
  </div>
</div>
